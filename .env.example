# ============================================================================
# BACKEND - Express + MongoDB
# ============================================================================
MONGODB_URI=mongodb+srv://<user>:<password>@<cluster>/<db>
DB_NAME=contesthub
PORT=4000
NODE_ENV=development

# ============================================================================
# AUTHENTICATION & SECURITY (CRITICAL)
# ============================================================================
# Generate JWT_SECRET with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=change_me_to_a_32_character_random_string_minimum
OTP_SECRET_KEY=change_me_to_a_long_random_string

# Frontend origins (comma-separated) - REQUIRED for production
# Do NOT include localhost in production!
FRONTEND_ORIGIN=http://localhost:3000,http://localhost:3001

# Auth cookie configuration
AUTH_COOKIE_NAME=auth_token
CSRF_COOKIE_NAME=csrf_token
AUTH_COOKIE_SAMESITE=lax
# AUTH_COOKIE_SECURE=true  # Enable in production with HTTPS
# AUTH_COOKIE_DOMAIN=.yourdomain.com  # Set for production cross-domain

# Proxy configuration (enable when behind reverse proxy)
# TRUST_PROXY=1

# ============================================================================
# EMAIL SERVICE (Choose one option)
# ============================================================================
# Option 1: Resend (Recommended for production)
# RESEND_API_KEY=<your-resend-api-key>

# Option 2: SendGrid
# SENDGRID_API_KEY=<your-sendgrid-api-key>

# Option 3: Gmail (Less secure, app password required)
# GMAIL_USER=your-email@gmail.com
# GMAIL_APP_PASSWORD=<16-character-app-password>
# AUTH_COOKIE_DOMAIN=.example.com

# Payments (SePay webhook)
# Enable payments feature flag (or use FEATURE_PAYMENTS_ENABLED=true)
PAYMENTS_ENABLED=false
PAYMENT_BANK_CODE=MB
PAYMENT_ACCOUNT_NUMBER=0123456789
PAYMENT_ACCOUNT_NAME=NGUYEN VAN A
SEPAY_API_KEY=your_sepay_webhook_secret
PAYMENT_AMOUNT_TOLERANCE_VND=0

# OpenRouter (AI chat)
OPENROUTER_API_KEY=
CHAT_MODELS=qwen/qwen3-coder,qwen/qwen3-235b-a22b,tngtech/deepseek-r1t2-chimera,mistralai/devstral-2512,meta-llama/llama-3.3-70b-instruct

# Integrations
MEDIA_UPLOAD_SECRET_KEY=
MEDIA_UPLOAD_URL=
OTP_EMAIL_URL=
NOTIFICATION_EMAIL_URL=
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Redis Caching (OPTIONAL - Highly recommended for production)
# Improves performance by 10x+ for frequently accessed data
# If not set, caching will be disabled gracefully
# Get free Redis: Railway, Upstash, or Redis Labs
# Example formats:
#   redis://localhost:6379
#   redis://:password@redis-host:6379
#   rediss://username:password@redis-host:6380 (SSL)
REDIS_URL=redis://localhost:6379

# Sentry Error Monitoring (OPTIONAL - Recommended for production)
# Get your DSN from https://sentry.io
# Provides real-time error tracking and performance monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Gemini (Server-side only; keep secrets out of Vite bundles)
GEMINI_API_KEY=

# Frontend (Vite only exposes VITE_*)
VITE_API_URL=http://localhost:4000/api
VITE_CHAT_ENABLED=false
